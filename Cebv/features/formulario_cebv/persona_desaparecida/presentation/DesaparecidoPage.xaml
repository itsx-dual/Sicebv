<Page x:Class="Cebv.features.formulario_cebv.persona_desaparecida.presentation.DesaparecidoPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
      xmlns:presentation="clr-namespace:Cebv.features.formulario_cebv.persona_desaparecida.presentation"
      xmlns:presentation1="clr-namespace:Cebv.features.formulario_cebv.media_filiacion.presentation"
      Foreground="{DynamicResource TextFillColorPrimaryBrush}"
      ui:Design.Background="{DynamicResource ApplicationBackgroundBrush}"
      ui:Design.Foreground="{DynamicResource TextFillColorPrimaryBrush}"
      d:DesignWidth="auto"
      d:DesignHeight="auto"
      mc:Ignorable="d"
      Name="MyPage"
      Title="DesaparecidoPage">

    <Page.DataContext>
        <presentation:DesaparecidoViewModel />
    </Page.DataContext>

    <Page.Resources>
        <CollectionViewSource x:Key="TelefonosMoviles"
                              Filter="TelefonosMoviles_OnFilter"
                              Source="{Binding Desaparecido.Persona.Telefonos}" />

        <CollectionViewSource x:Key="TelefonosFijos"
                              Filter="TelefonosFijos_OnFilter"
                              Source="{Binding Desaparecido.Persona.Telefonos}" />

        <CollectionViewSource x:Key="CorreosElectronicos"
                              Filter="CorreosElectronicos_OnFilter"
                              Source="{Binding Desaparecido.Persona.Contactos}" />

        <CollectionViewSource x:Key="RedesSociales"
                              Filter="RedesSociales_OnFilter"
                              Source="{Binding Desaparecido.Persona.Contactos}" />
        <!--UPPER CON MVVM -->
        <Style TargetType="{x:Type ui:TextBox}"
               BasedOn="{StaticResource {x:Type ui:TextBox}}">
            <Setter Property="IsReadOnly" Value="False" />
            <Setter Property="IsEnabled" Value="True" />
            <Setter Property="CharacterCasing" Value="Upper" />
        </Style> 
    </Page.Resources>

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Header -->
        <ui:TextBlock Grid.Row="0" Text="{StaticResource DesaparecidoTitle}" FontTypography="TitleLarge" />

        <!-- Content -->
        <StackPanel Grid.Row="1" Margin="10">
            <!-- Datos de identificación de la persona -->
            <ui:TextBlock Text="Datos de identificación de la persona" FontTypography="Title" Margin="10" />
            <Border Style="{StaticResource CebvBorder}" Margin="0 0 0 25">
                <StackPanel>
                    <!-- Nombres y apellidos -->
                    <WrapPanel Margin="0 0 0 15">
                        <StackPanel MinWidth="200" Margin="0 0 25 0">
                            <Label Content="Nombre(s):"
                                   Target="{Binding ElementName=DesaparecidoNombre}"/>
                            <ui:TextBox Text="{Binding Desaparecido.Persona.Nombre}" Tag="Letter"
                                        x:Name="DesaparecidoNombre"/>
                        </StackPanel>

                        <StackPanel MinWidth="200" Margin="0 0 25 0">
                            <Label Content="Primer apellido:" 
                                   Target="{Binding ElementName=DesaparecidoApePaterno}"/>
                            <ui:TextBox Text="{Binding Desaparecido.Persona.ApellidoPaterno}" Tag="Letter" 
                                        x:Name="DesaparecidoApePaterno"/>
                        </StackPanel>

                        <StackPanel MinWidth="200" Margin="0 0 25 0">
                            <Label Content="Segundo apellido:"
                                   Target="{Binding ElementName=DesaparecidoApeMaterno}"/>
                            <ui:TextBox Text="{Binding Desaparecido.Persona.ApellidoMaterno}" Tag="Letter" 
                                        x:Name="DesaparecidoApeMaterno"/>
                        </StackPanel>

                        <StackPanel MinWidth="200" Margin="0 0 25 0">
                            <Label Content="Identidad resguardada:"
                                   Target="{Binding ElementName=DesaparecidoIdentidadResguardada}"/>
                            <ui:TextBox Text="{Binding Desaparecido.IdentidadResguardada}"
                                        x:Name="DesaparecidoIdentidadResguardada"/>
                        </StackPanel>
                    </WrapPanel>

                    <!-- Pseudonimos de nombres y apellidos -->
                    <WrapPanel Margin="0 0 0 15">
                        <StackPanel MinWidth="200" Margin="0 0 25 0">
                            <Label Content="Pseudónimo(s) nombre(s):"
                                   Target="{Binding ElementName=PseudonimoNombre}"/>
                            <ui:TextBox Text="{Binding Pseudonimo.Nombre}" 
                                        x:Name="PseudonimoNombre"/>
                        </StackPanel>

                        <StackPanel MinWidth="200" Margin="0 0 25 0">
                            <Label Content="Pseudónimo primer apellido:"
                                   Target="{Binding ElementName=PseudonimoApePaterno}"/>
                            <ui:TextBox Text="{Binding Pseudonimo.ApellidoPaterno}"
                                        x:Name="PseudonimoApePaterno"/>
                        </StackPanel>

                        <StackPanel MinWidth="200" Margin="0 0 25 0">
                            <Label Content="Pseudónimo segundo apellido: "
                                   Target="{Binding ElementName=PseudonimoApeMaterno}"/>
                            <ui:TextBox Text="{Binding Pseudonimo.ApellidoMaterno}"
                                        x:Name="PseudonimoApeMaterno"/>
                        </StackPanel>

                        <ui:Button Appearance="Primary"
                                   Icon="{ui:SymbolIcon Add24}"
                                   VerticalAlignment="Stretch"
                                   Margin="0 15 0 0"
                                   Command="{Binding AddApodoCommand}" />
                    </WrapPanel>

                    <ui:CardExpander Icon="{ui:SymbolIcon Person24}" Margin="0 0 0 15"
                                     IsExpanded="{Binding TieneApodos}">
                        <ui:CardExpander.Header>
                            <ui:TextBlock Text="Pseudónimos" FontTypography="Subtitle" />
                        </ui:CardExpander.Header>
                        <ui:ListView
                            HorizontalAlignment="Stretch"
                            MaxHeight="250"
                            ItemsSource="{Binding Desaparecido.Persona.Pseudonimos, Mode=TwoWay}"
                            SelectionMode="Single">
                            <ui:ListView.ItemTemplate>
                                <DataTemplate>
                                    <Grid>
                                        <ui:CardControl
                                            Margin="5 5 60 5"
                                            Padding="10"
                                            Icon="{ui:SymbolIcon Person24}"
                                            HorizontalAlignment="Stretch">
                                            <ui:CardControl.Header>
                                                <StackPanel>
                                                    <StackPanel Orientation="Horizontal">
                                                        <ui:TextBlock
                                                            FontTypography="Subtitle"
                                                            Appearance="Primary"
                                                            Margin="0 0 10 0"
                                                            Text="{Binding Nombre}"
                                                            TextWrapping="WrapWithOverflow" />

                                                        <ui:TextBlock
                                                            FontTypography="Subtitle"
                                                            Appearance="Secondary"
                                                            Text="{Binding ApellidoPaterno}"
                                                            TextWrapping="WrapWithOverflow"
                                                            Margin="0 0 10 0" />

                                                        <ui:TextBlock
                                                            FontTypography="Subtitle"
                                                            Appearance="Secondary"
                                                            Text="{Binding ApellidoMaterno}"
                                                            TextWrapping="WrapWithOverflow" />
                                                    </StackPanel>
                                                </StackPanel>
                                            </ui:CardControl.Header>
                                        </ui:CardControl>

                                        <ui:Button VerticalAlignment="Stretch"
                                                   Appearance="Danger"
                                                   HorizontalAlignment="Right"
                                                   Icon="{ui:SymbolIcon Delete24}"
                                                   MinWidth="50"
                                                   Margin="5"
                                                   CommandParameter="{Binding}"
                                                   Command="{Binding ElementName=Page, Path=DataContext.RemoveApodoCommand}" />

                                    </Grid>
                                </DataTemplate>
                            </ui:ListView.ItemTemplate>
                        </ui:ListView>
                    </ui:CardExpander>

                    <WrapPanel Margin="0 0 0 15">
                        <StackPanel MinWidth="250" Margin="0 0 25 0">
                            <Label Content="Alias:"
                                   Target="{Binding ElementName=DesaparecidoAlias}"/>
                            <ui:TextBox
                                Text="{Binding Desaparecido.Persona.Apodo,
                            UpdateSourceTrigger=PropertyChanged}"
                                x:Name="DesaparecidoAlias"/>
                        </StackPanel>
                    </WrapPanel>


                    <!-- Apodos -->
                    <WrapPanel Margin="0 0 0 15">
                        <StackPanel MinWidth="200" Margin="0 0 25 0">
                            <Label Content="Sexo:"
                                   Target="{Binding ElementName=DesaparecidoSexo}"/>
                            <ComboBox DisplayMemberPath="Nombre"
                                      SelectedItem="{Binding Desaparecido.Persona.Sexo}"
                                      ItemsSource="{Binding Persona.Sexos}"
                                      x:Name="DesaparecidoSexo"/>
                        </StackPanel>

                        <StackPanel MinWidth="200" Margin="0 0 25 0">
                            <Label Content="Género:" 
                                   Target="{Binding ElementName=DesaparecidoGenero}"/>
                            <ComboBox DisplayMemberPath="Nombre"
                                      SelectedItem="{Binding Desaparecido.Persona.Genero}"
                                      ItemsSource="{Binding Persona.Generos}"
                                      x:Name="DesaparecidoGenero"/>
                        </StackPanel>
                    </WrapPanel>

                    <ui:ToggleSwitch Margin="0 15 0 0"
                                     OnContent="¿Se desconoce fecha exacta? Sí"
                                     OffContent="¿Se desconoce fecha exacta? No"
                                     IsChecked="{Binding FechaAproximada}" />

                    <!-- Fecha exacta -->
                    <StackPanel Margin="0 15 0 15"
                                Visibility="{Binding FechaAproximada,
                                Converter={StaticResource VisibilityConverter}}">
                        <WrapPanel>
                            <StackPanel MinWidth="250">
                                <Label Content="Fecha de nacimiento específica:"
                                       Target="{Binding ElementName=FechaNacimientoEspecifica}"/>
                                <DatePicker SelectedDateFormat="Short" IsTodayHighlighted="True"
                                            SelectedDate="{Binding Desaparecido.Persona.FechaNacimiento, StringFormat='{}{0:dddd, dd \\d\\e MMMM, yyyy}', ConverterCulture=es_MX}"
                                            x:Name="FechaNacimientoEspecifica"/>
                            </StackPanel>
                        </WrapPanel>

                        <ui:TextBlock Text="Edad al momento de la Desaparición" FontTypography="BodyStrong"
                                      Margin="0 25 0 10" />
                        <WrapPanel IsEnabled="False">
                            <StackPanel MinWidth="200" Margin="0 0 25 0">
                                <Label Content="Edad (años):"
                                       Target="{Binding ElementName=EdadAnhosDesaparicion}"/>
                                <ui:NumberBox
                                    Icon="{ui:SymbolIcon NumberSymbolSquare24}"
                                    MaxDecimalPlaces="0"
                                    Maximum="120"
                                    Minimum="0"
                                    PlaceholderText="Años"
                                    SmallChange="1"
                                    Tag="Number"
                                    x:Name="EdadAnhosDesaparicion"/>
                            </StackPanel>

                            <StackPanel MinWidth="200" Margin="0 0 25 0">
                                <Label Content="Edad (meses):"
                                       Target="{Binding ElementName=EdadMesesDesaparicion}"/>
                                <ui:NumberBox
                                    Icon="{ui:SymbolIcon NumberSymbolSquare24}"
                                    MaxDecimalPlaces="0"
                                    Maximum="12"
                                    Minimum="0"
                                    PlaceholderText="Meses"
                                    SmallChange="1"
                                    Tag="Number"
                                    x:Name="EdadMesesDesaparicion"/>
                            </StackPanel>

                            <StackPanel MinWidth="200">
                                <Label Content="Edad (días):"
                                       Target="{Binding ElementName=EdadDiasDesaparicion}"/>
                                <ui:NumberBox
                                    Icon="{ui:SymbolIcon NumberSymbolSquare24}"
                                    MaxDecimalPlaces="0"
                                    Maximum="31"
                                    Minimum="0"
                                    PlaceholderText="Días"
                                    SmallChange="1"
                                    Tag="Number"
                                    x:Name="EdadDiasDesaparicion"/>
                            </StackPanel>
                        </WrapPanel>

                        <ui:TextBlock Text="Edad actual" FontTypography="BodyStrong" Margin="0 25 0 10" />
                        <WrapPanel IsEnabled="False">
                            <StackPanel MinWidth="200" Margin="0 0 25 0">
                                <Label Content="Edad (años):"
                                       Target="{Binding ElementName=EdadAnhosActual}"/>
                                <ui:NumberBox
                                    Icon="{ui:SymbolIcon NumberSymbolSquare24}"
                                    MaxDecimalPlaces="0"
                                    Maximum="120"
                                    Minimum="0"
                                    Value="{Binding EdadAnos}"
                                    PlaceholderText="Años"
                                    SmallChange="1"
                                    Tag="Number"
                                    x:Name="EdadAnhosActual"/>
                            </StackPanel>

                            <StackPanel MinWidth="200" Margin="0 0 25 0">
                                <Label Content="Edad (meses):"
                                       Target="{Binding ElementName=EdadMesesActual}"/>
                                <ui:NumberBox
                                    Icon="{ui:SymbolIcon NumberSymbolSquare24}"
                                    MaxDecimalPlaces="0"
                                    Maximum="12"
                                    Minimum="0"
                                    Value="{Binding EdadMeses}"
                                    PlaceholderText="Meses"
                                    SmallChange="1"
                                    Tag="Number"
                                    x:Name="EdadMesesActual"/>
                            </StackPanel>

                            <StackPanel MinWidth="200">
                                <Label Content="Edad (días):" 
                                       Target="{Binding ElementName=EdadDiasActual}"/>
                                <ui:NumberBox
                                    Icon="{ui:SymbolIcon NumberSymbolSquare24}"
                                    MaxDecimalPlaces="0"
                                    Maximum="31"
                                    Minimum="0"
                                    Value="{Binding EdadDias}"
                                    PlaceholderText="Días"
                                    SmallChange="1"
                                    Tag="Number"
                                    x:Name="EdadDiasActual"/>
                            </StackPanel>
                        </WrapPanel>
                    </StackPanel>

                    <!-- Fecha aproximada -->
                    <StackPanel Margin="0 15 0 15"
                                Visibility="{Binding FechaAproximada,
                                Converter={StaticResource VisibilityConverter2}}">
                        <WrapPanel>
                            <StackPanel MinWidth="250" Margin="0 0 25 0">
                                <Label Content="Fecha de nacimiento aproximada:" 
                                       Target="{Binding ElementName=FechaAprox}"/>
                                <ui:TextBox Icon="{ui:SymbolIcon CalendarMonth24}" Tag="Date" x:Name="FechaAprox" />
                            </StackPanel>

                            <StackPanel MinWidth="250" Margin="0 0 25 0">
                                <Label Content="Fecha de nacimiento para CNB:"
                                       Target="{Binding ElementName=DatePicker}"/>
                                <DatePicker SelectedDateFormat="Short" IsTodayHighlighted="True"
                                            SelectedDate="{Binding Desaparecido.Persona.FechaNacimiento, 
                                            StringFormat='{}{0:dddd, dd \\d\\e MMMM, yyyy}', ConverterCulture=es_MX}"
                                            x:Name="DatePicker" />
                            </StackPanel>

                            <StackPanel MinWidth="250">
                                <Label Content="Observaciones sobre la fecha:"
                                       Target="{Binding ElementName=ObservacionesFecha}"/>
                                <ui:TextBox TextWrapping="Wrap" AcceptsReturn="True"
                                            x:Name="ObservacionesFecha"/>
                            </StackPanel>
                        </WrapPanel>

                        <ui:TextBlock Text="Edad al momento de la Desaparición" FontTypography="BodyStrong"
                                      Margin="0 25 0 10" />
                        <WrapPanel>
                            <StackPanel MinWidth="200" Margin="0 0 25 0">
                                <Label Content="Edad (años):"
                                       Target="{Binding ElementName=EdadAnhosDesaparicion2}"/>
                                <ui:NumberBox
                                    Icon="{ui:SymbolIcon NumberSymbolSquare24}"
                                    MaxDecimalPlaces="0"
                                    Maximum="120"
                                    Minimum="0"
                                    PlaceholderText="Años"
                                    SmallChange="1"
                                    Tag="Number"
                                    x:Name="EdadAnhosDesaparicion2"/>
                            </StackPanel>

                            <StackPanel MinWidth="200" Margin="0 0 25 0">
                                <Label Content="Edad (meses):"
                                       Target="{Binding ElementName=EdadMesesDesaparicion2}"/>
                                <ui:NumberBox
                                    Icon="{ui:SymbolIcon NumberSymbolSquare24}"
                                    MaxDecimalPlaces="0"
                                    Maximum="12"
                                    Minimum="0"
                                    PlaceholderText="Meses"
                                    SmallChange="1"
                                    Tag="Number"
                                    x:Name="EdadMesesDesaparicion2"/>
                            </StackPanel>

                            <StackPanel MinWidth="200">
                                <Label Content="Edad (días):"
                                       Target="{Binding ElementName=EdadDiasDesaparicion2}"/>
                                <ui:NumberBox
                                    Icon="{ui:SymbolIcon NumberSymbolSquare24}"
                                    MaxDecimalPlaces="0"
                                    Maximum="31"
                                    Minimum="0"
                                    PlaceholderText="Días"
                                    SmallChange="1"
                                    Tag="Number"
                                    x:Name="EdadDiasDesaparicion2"/>
                            </StackPanel>
                        </WrapPanel>

                        <ui:TextBlock Text="Edad actual" FontTypography="BodyStrong" Margin="0 25 0 10" />
                        <WrapPanel IsEnabled="False">
                            <StackPanel MinWidth="200" Margin="0 0 25 0">
                                <Label Content="Edad (años):"
                                       Target="{Binding ElementName=EdadAnhosActual2}"/>
                                <ui:NumberBox
                                    Icon="{ui:SymbolIcon NumberSymbolSquare24}"
                                    MaxDecimalPlaces="0"
                                    Maximum="120"
                                    Minimum="0"
                                    PlaceholderText="Años"
                                    SmallChange="1"
                                    Tag="Number"
                                    x:Name="EdadAnhosActual2"/>
                            </StackPanel>

                            <StackPanel MinWidth="200" Margin="0 0 25 0">
                                <Label Content="Edad (meses):"
                                       Target="{Binding ElementName=EdadMesesActual2}"/>
                                <ui:NumberBox
                                    Icon="{ui:SymbolIcon NumberSymbolSquare24}"
                                    MaxDecimalPlaces="0"
                                    Maximum="12"
                                    Minimum="0"
                                    PlaceholderText="Meses"
                                    SmallChange="1"
                                    Tag="Number"
                                    x:Name="EdadMesesActual2"/>
                            </StackPanel>

                            <StackPanel MinWidth="200">
                                <Label Content="Edad (días):" 
                                       Target="{Binding ElementName=EdadDiasActual2}"/>
                                <ui:NumberBox
                                    Icon="{ui:SymbolIcon NumberSymbolSquare24}"
                                    MaxDecimalPlaces="0"
                                    Maximum="31"
                                    Minimum="0"
                                    PlaceholderText="Días"
                                    SmallChange="1"
                                    Tag="Number"
                                    x:Name="EdadDiasActual2"/>
                            </StackPanel>
                        </WrapPanel>
                    </StackPanel>

                    <!-- Nacionalidad -->
                    <WrapPanel Margin="0 0 0 15">
                        <StackPanel MinWidth="250" Margin="0 0 25 0">
                            <Label Content="Lugar de nacimiento:"
                                   Target="{Binding ElementName=LugarNacimiento}"/>
                            <ComboBox DisplayMemberPath="Nombre"
                                      SelectedItem="{Binding Desaparecido.Persona.LugarNacimiento}"
                                      ItemsSource="{Binding Estados}"
                                      x:Name="LugarNacimiento"/>
                        </StackPanel>

                        <StackPanel MinWidth="250" Margin="0 0 25 0">
                            <Label Content="Nacionalidad:"
                                   Target="{Binding ElementName=Nacionalidad}"/>
                            <ComboBox DisplayMemberPath="Nombre"
                                      SelectedItem="{Binding Desaparecido.Persona.Nacionalidades[0]}"
                                      ItemsSource="{Binding Persona.Nacionalidades}" 
                                      x:Name="Nacionalidad"/>
                        </StackPanel>
                    </WrapPanel>

                    <!-- Identifcaciones oficiales -->
                    <WrapPanel Margin=" 0 0 0 15">
                        <StackPanel MinWidth="250" Margin="0 0 25 0">
                            <Label Content="RFC:"
                                   Target="{Binding ElementName=Rfc}"/>
                            <ui:TextBox Text="{Binding Desaparecido.Persona.Rfc}" MaxLength="13"
                                        x:Name="Rfc"/>
                        </StackPanel>

                        <StackPanel MinWidth="250" Margin="0 0 25 0">
                            <Label Content="CURP:"
                                   Target="{Binding ElementName=Curp}"/>
                            <ui:TextBox Text="{Binding Desaparecido.Persona.Curp}" MaxLength="18"
                                        x:Name="Curp"/>
                        </StackPanel>

                        <!-- TODO: La visibilidad depende de si la curp esta vacia -->
                        <StackPanel MinWidth="250">
                            <Label Content="Razón por la cual no tiene CURP:" 
                                   Target="{Binding ElementName=RazonCurp}"/>
                            <ComboBox ItemsSource="{Binding RazonesCurp}"
                                      DisplayMemberPath="Nombre" 
                                      x:Name="RazonCurp"/>
                        </StackPanel>
                    </WrapPanel>

                    <!-- Observaciones del curp -->
                    <StackPanel>
                        <Label Content="Observaciones del CURP:"
                               Target="{Binding ElementName=ObservacionesCurp}"/>
                        <ui:TextBox Text="{Binding Desaparecido.Persona.ObservacionesCurp}"
                                    TextWrapping="Wrap" AcceptsReturn="True" MinHeight="100"
                                    x:Name="ObservacionesCurp"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- Domicilio de la persona -->
            <ui:TextBlock Text="Domicilio de la persona" FontTypography="Title" Margin="10" />
            <Border Style="{StaticResource CebvBorder}" Margin="0 0 0 25">
                <StackPanel>

                    <StackPanel Margin="0 0 0 25">
                        <ui:ToggleSwitch OffContent="Mismo domicilio que la persona reportante No"
                                         OnContent="Mismo domicilio que la persona reportante No"
                                         IsChecked="{Binding EsMismoDomicilioReportante}" />
                    </StackPanel>

                    <WrapPanel Margin="0 0 0 15">
                        <StackPanel MinWidth="250" Margin="0 0 25 0">
                            <Label Content="Calle:"
                                   Target="{Binding ElementName=Calle}"/>
                            <ui:TextBox ClearButtonEnabled="True"
                                        Text="{Binding Direccion.Calle}"
                                        IsEnabled="{Binding EsMismoDomicilioReportante, Converter={StaticResource BooleanNegation}}"
                                        x:Name="Calle"/>
                        </StackPanel>

                        <StackPanel MinWidth="200" Margin="0 0 25 0">
                            <Label Content="N° Exterior:"
                                   Target="{Binding ElementName=Nexterior}"/>
                            <ui:NumberBox ClearButtonEnabled="True" MaxLength="10"
                                        Value="{Binding Direccion.NumeroExterior}"
                                        IsEnabled="{Binding EsMismoDomicilioReportante, Converter={StaticResource BooleanNegation}}"
                                        SpinButtonPlacementMode="Hidden"
                                        x:Name="Nexterior"/>
                        </StackPanel>

                        <StackPanel MinWidth="200" Margin="0 0 25 0">
                            <Label Content="N° Interior:"
                                   Target="{Binding ElementName=Ninterior}"/>
                            <ui:NumberBox ClearButtonEnabled="True" MaxLength="10"
                                        Value="{Binding Direccion.NumeroInterior}"
                                        IsEnabled="{Binding EsMismoDomicilioReportante, Converter={StaticResource BooleanNegation}}" 
                                        SpinButtonPlacementMode="Hidden"
                                        x:Name="Ninterior"/>
                        </StackPanel>

                        <StackPanel MinWidth="250" Margin="0 0 25 0">
                            <Label Content="Colonia:"
                                   Target="{Binding ElementName=Colonia}"/>
                            <ui:TextBox ClearButtonEnabled="True"
                                        Text="{Binding Direccion.Colonia}"
                                        IsEnabled="{Binding EsMismoDomicilioReportante, Converter={StaticResource BooleanNegation}}"
                                        x:Name="Colonia"/>
                        </StackPanel>

                        <StackPanel MinWidth="200">
                            <Label Content="Código Postal:"
                                   Target="{Binding ElementName=CodigoPostal}"/>
                            <ui:TextBox ClearButtonEnabled="True" Tag="Number" MaxLength="5"
                                        Text="{Binding Direccion.CodigoPostal}"
                                        IsEnabled="{Binding EsMismoDomicilioReportante, Converter={StaticResource BooleanNegation}}" 
                                        x:Name="CodigoPostal"/>
                        </StackPanel>
                    </WrapPanel>

                    <WrapPanel Margin="0 0 0 15">
                        <StackPanel MinWidth="250" Margin="0 0 25 0">
                            <Label Content="Estado:"
                                   Target="{Binding ElementName=Estado}"/>
                            <ComboBox SelectedItem="{Binding EstadoSelected}"
                                      ItemsSource="{Binding Estados}"
                                      IsEnabled="{Binding EsMismoDomicilioReportante, Converter={StaticResource BooleanNegation}}"
                                      x:Name="Estado"/>
                        </StackPanel>

                        <StackPanel MinWidth="250" Margin="0 0 25 0">
                            <Label Content="Municipio:"
                                   Target="{Binding ElementName=Municipio}"/>
                            <ComboBox SelectedItem="{Binding MunicipioSelected}"
                                      ItemsSource="{Binding Municipios}"
                                      IsEnabled="{Binding EsMismoDomicilioReportante, Converter={StaticResource BooleanNegation}}"
                                      x:Name="Municipio">
                                <ComboBox.ItemTemplate>
                                    <DataTemplate>
                                        <WrapPanel>
                                            <TextBlock Text="{Binding Id}" />
                                            <TextBlock Text=" - " />
                                            <TextBlock Text="{Binding Nombre}" />
                                        </WrapPanel>
                                    </DataTemplate>
                                </ComboBox.ItemTemplate>
                            </ComboBox>
                        </StackPanel>

                        <StackPanel MinWidth="250" Margin="0 0 25 0">
                            <Label Content="Localidad:"
                                   Target="{Binding ElementName=Localidad}"/>
                            <ComboBox IsEditable="True"
                                      DisplayMemberPath="Nombre"
                                      SelectedItem="{Binding Direccion.Asentamiento}"
                                      ItemsSource="{Binding Asentamientos}"
                                      IsEnabled="{Binding EsMismoDomicilioReportante, Converter={StaticResource BooleanNegation}}"
                                      x:Name="Localidad"/>
                        </StackPanel>
                    </WrapPanel>

                    <WrapPanel Margin="0 0 0 15">
                        <StackPanel MinWidth="250" Margin="0 0 25 0">
                            <Label Content="Entre calle 1:"
                                   Target="{Binding ElementName=Calle1}"/>
                            <ui:TextBox Text="{Binding Direccion.Calle1}"
                                        IsEnabled="{Binding EsMismoDomicilioReportante, Converter={StaticResource BooleanNegation}}"
                                        x:Name="Calle1"/>
                        </StackPanel>

                        <StackPanel MinWidth="250" Margin="0 0 25 0">
                            <Label Content="Entre calle 2:"
                                   Target="{Binding ElementName=Calle2}"/>
                            <ui:TextBox Text="{Binding Direccion.Calle2}"
                                        IsEnabled="{Binding EsMismoDomicilioReportante, Converter={StaticResource BooleanNegation}}"
                                        x:Name="Calle2"/>
                        </StackPanel>

                        <StackPanel MinWidth="250" Margin="0 0 25 0">
                            <Label Content="Tramo Carretero:" 
                                   Target="{Binding ElementName=TramoCarretero}"/>
                            <ui:TextBox Text="{Binding Direccion.TramoCarretero}"
                                        IsEnabled="{Binding EsMismoDomicilioReportante, Converter={StaticResource BooleanNegation}}"
                                        x:Name="TramoCarretero"/>
                        </StackPanel>
                    </WrapPanel>

                    <StackPanel MinWidth="250">
                        <Label Content="Referencia:"
                               Target="{Binding ElementName=Referencia}"/>
                        <ui:TextBox Text="{Binding Direccion.Referencia}"
                                    TextWrapping="Wrap" AcceptsReturn="True" MinHeight="100"
                                    IsEnabled="{Binding EsMismoDomicilioReportante, Converter={StaticResource BooleanNegation}}" 
                                    x:Name="Referencia"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- Datos de contacto -->
            <ui:TextBlock Text="Datos de contacto" FontTypography="Title" Margin="10" />
            <Border Style="{StaticResource CebvBorder}" Margin="0 0 0 25">
                <StackPanel>
                    <WrapPanel Margin="0 0 0 15">
                        <StackPanel MinWidth="250" Margin="0 0 25 0">
                            <Label Content="Teléfono móvil:"
                                   Target="{Binding ElementName=NoTelefonoMovil}"/>
                            <ui:NumberBox Value="{Binding NoTelefonoMovil}" Tag="Number"
                                        MaxLength="10" 
                                        SpinButtonPlacementMode="Hidden"
                                        x:Name="NoTelefonoMovil"/>
                        </StackPanel>

                        <StackPanel MinWidth="250" Margin="0 0 25 0">
                            <Label Content="Compañía:"
                                   Target="{Binding ElementName=Compania}"/>
                            <ComboBox DisplayMemberPath="Nombre"
                                      SelectedItem="{Binding CompaniaTelefonicaSelected}"
                                      ItemsSource="{Binding CompaniasTelefonicas}" 
                                      x:Name="Compania"/>
                        </StackPanel>

                        <StackPanel MinWidth="250" Margin="0 0 25 0">
                            <Label Content="Observaciones:"
                                   Target="{Binding ElementName=ObservacionesMovil}"/>
                            <ui:TextBox Text="{Binding ObservacionesMovil}"
                                        x:Name="ObservacionesMovil"/>
                        </StackPanel>

                        <ui:Button Icon="{ui:SymbolIcon Add24}"
                                   Appearance="Primary"
                                   Margin="0 15 0 0"
                                   VerticalAlignment="Stretch"
                                   Command="{Binding AddTelefonoMovilCommand}" />
                    </WrapPanel>

                    <ui:CardExpander Icon="{ui:SymbolIcon BookContacts24}" Margin="0 0 0 15"
                                     IsExpanded="{Binding TieneTelefonosMoviles}">
                        <ui:CardExpander.Header>
                            <ui:TextBlock Text="Teléfonos móviles" FontTypography="Subtitle" />
                        </ui:CardExpander.Header>
                        <ui:ListView
                            HorizontalAlignment="Stretch"
                            MaxHeight="250"
                            ItemsSource="{Binding Source={StaticResource TelefonosMoviles}}"
                            SelectionMode="Single">
                            <ui:ListView.ItemTemplate>
                                <DataTemplate>
                                    <Grid>
                                        <ui:CardControl
                                            Margin="5 5 60 5"
                                            Padding="10"
                                            Icon="{ui:SymbolIcon Phone24}"
                                            HorizontalAlignment="Stretch">
                                            <ui:CardControl.Header>
                                                <StackPanel>
                                                    <ui:TextBlock
                                                        Appearance="Secondary"
                                                        Text="{Binding Compania.Nombre}"
                                                        TextWrapping="WrapWithOverflow" />

                                                    <ui:TextBlock
                                                        FontTypography="BodyStrong"
                                                        Text="{Binding Numero}"
                                                        TextWrapping="WrapWithOverflow" />
                                                </StackPanel>
                                            </ui:CardControl.Header>
                                            <StackPanel>
                                                <ui:TextBlock
                                                    Appearance="Secondary"
                                                    Text="{Binding Observaciones}"
                                                    TextWrapping="WrapWithOverflow" />
                                            </StackPanel>
                                        </ui:CardControl>

                                        <ui:Button VerticalAlignment="Stretch"
                                                   Appearance="Danger"
                                                   HorizontalAlignment="Right"
                                                   Icon="{ui:SymbolIcon Delete24}"
                                                   MinWidth="50"
                                                   Margin="5"
                                                   Command="{Binding ElementName=Page, Path=DataContext.EliminarTelefonoCommand}"
                                                   CommandParameter="{Binding}" />
                                    </Grid>
                                </DataTemplate>
                            </ui:ListView.ItemTemplate>
                        </ui:ListView>
                    </ui:CardExpander>


                    <WrapPanel Margin="0 0 0 15">
                        <StackPanel MinWidth="250" Margin="0 0 25 0">
                            <Label Content="Teléfono fijo:"
                                   Target="{Binding ElementName=NoTelefonoFijo}"/>
                            <ui:NumberBox Value="{Binding NoTelefonoFijo}" Tag="Number" MaxLength="10"
                                          SpinButtonPlacementMode="Hidden"
                                          x:Name="NoTelefonoFijo"/>
                        </StackPanel>

                        <StackPanel MinWidth="250" Margin="0 0 25 0">
                            <Label Content="Observaciones:"
                                   Target="{Binding ElementName=ObservacionesFijo}"/>
                            <ui:TextBox Text="{Binding ObservacionesFijo}"
                                        x:Name="ObservacionesFijo"/>
                        </StackPanel>

                        <ui:Button Icon="{ui:SymbolIcon Add24}"
                                   Appearance="Primary"
                                   Margin="0 15 0 0"
                                   VerticalAlignment="Stretch"
                                   Command="{Binding AddTelefonoFijoCommand}" />
                    </WrapPanel>

                    <ui:CardExpander Icon="{ui:SymbolIcon BookContacts24}" Margin="0 0 0 15"
                                     IsExpanded="{Binding TieneTelefonosFijos}">
                        <ui:CardExpander.Header>
                            <ui:TextBlock Text="Teléfonos fijos" FontTypography="Subtitle" />
                        </ui:CardExpander.Header>
                        <ui:ListView
                            HorizontalAlignment="Stretch"
                            MaxHeight="250"
                            ItemsSource="{Binding Source={StaticResource TelefonosFijos}}"
                            SelectionMode="Single">
                            <ui:ListView.ItemTemplate>
                                <DataTemplate>
                                    <Grid>
                                        <ui:CardControl
                                            Margin="5 5 60 5"
                                            Padding="10"
                                            Icon="{ui:SymbolIcon Call24}"
                                            HorizontalAlignment="Stretch">
                                            <ui:CardControl.Header>
                                                <ui:TextBlock
                                                    FontTypography="BodyStrong"
                                                    Text="{Binding Numero}"
                                                    TextWrapping="WrapWithOverflow" />
                                            </ui:CardControl.Header>
                                            <StackPanel>
                                                <ui:TextBlock
                                                    Appearance="Secondary"
                                                    Text="{Binding Observaciones}"
                                                    TextWrapping="WrapWithOverflow" />
                                            </StackPanel>
                                        </ui:CardControl>

                                        <ui:Button VerticalAlignment="Stretch"
                                                   Appearance="Danger"
                                                   HorizontalAlignment="Right"
                                                   Icon="{ui:SymbolIcon Delete24}"
                                                   MinWidth="50"
                                                   Margin="5"
                                                   Command="{Binding ElementName=Page, Path=DataContext.EliminarTelefonoCommand}"
                                                   CommandParameter="{Binding}" />
                                    </Grid>
                                </DataTemplate>
                            </ui:ListView.ItemTemplate>
                        </ui:ListView>
                    </ui:CardExpander>


                    <WrapPanel Margin="0 0 0 15">
                        <StackPanel MinWidth="250" Margin="0 0 25 0">
                            <Label Content="Correo electrónico:"
                                   Target="{Binding ElementName=UsuarioCorreo}"/>
                            <ui:TextBox Text="{Binding UsuarioCorreo}" Tag="Mail"
                                        x:Name="UsuarioCorreo"/>
                        </StackPanel>

                        <StackPanel MinWidth="250" Margin="0 0 25 0">
                            <Label Content="Observaciones:"
                                   Target="{Binding ElementName=ObservacionesCorreo}"/>
                            <ui:TextBox Text="{Binding ObservacionesCorreo}"
                                        x:Name="ObservacionesCorreo"/>
                        </StackPanel>

                        <ui:Button Icon="{ui:SymbolIcon Add24}"
                                   Appearance="Primary"
                                   Margin="0 15 0 0"
                                   VerticalAlignment="Stretch"
                                   Command="{Binding AddCorreoCommand}" />
                    </WrapPanel>

                    <ui:CardExpander Icon="{ui:SymbolIcon MailMultiple24}" Margin="0 0 0 15"
                                     IsExpanded="{Binding TieneCorreos}">
                        <ui:CardExpander.Header>
                            <ui:TextBlock Text="Correos electrónicos" FontTypography="Subtitle" />
                        </ui:CardExpander.Header>
                        <ui:ListView
                            HorizontalAlignment="Stretch"
                            MaxHeight="250"
                            ItemsSource="{Binding Source={StaticResource CorreosElectronicos}}"
                            SelectionMode="Single">
                            <ui:ListView.ItemTemplate>
                                <DataTemplate>
                                    <Grid>
                                        <ui:CardControl
                                            Margin="5 5 60 5"
                                            Padding="10"
                                            Icon="{ui:SymbolIcon Mail24}"
                                            HorizontalAlignment="Stretch">
                                            <ui:CardControl.Header>
                                                <ui:TextBlock
                                                    FontTypography="BodyStrong"
                                                    Text="{Binding Nombre}"
                                                    TextWrapping="WrapWithOverflow" />
                                            </ui:CardControl.Header>
                                            <StackPanel>
                                                <ui:TextBlock
                                                    Appearance="Secondary"
                                                    Text="{Binding Observaciones}"
                                                    TextWrapping="WrapWithOverflow" />
                                            </StackPanel>
                                        </ui:CardControl>

                                        <ui:Button VerticalAlignment="Stretch"
                                                   Appearance="Danger"
                                                   HorizontalAlignment="Right"
                                                   Icon="{ui:SymbolIcon Delete24}"
                                                   MinWidth="50"
                                                   Margin="5"
                                                   Command="{Binding ElementName=Page, Path=DataContext.EliminarContactoCommand}"
                                                   CommandParameter="{Binding}" />
                                    </Grid>
                                </DataTemplate>
                            </ui:ListView.ItemTemplate>
                        </ui:ListView>
                    </ui:CardExpander>

                    <WrapPanel Margin="0 0 0 15">
                        <StackPanel MinWidth="250" Margin="0 0  25 0">
                            <Label Content="Tipo de red social:"
                                   Target="{Binding ElementName=TiposRedesSocial}"/>
                            <ComboBox DisplayMemberPath="Nombre"
                                      SelectedItem="{Binding TipoRedSocialSelected}"
                                      ItemsSource="{Binding TiposRedesSociales}"
                                      x:Name="TiposRedesSocial"/>
                        </StackPanel>

                        <StackPanel MinWidth="250" Margin="0 0 25 0">
                            <Label Content="Usuario:"
                                   Target="{Binding ElementName=UsuarioRedSocial}"/>
                            <ui:TextBox Text="{Binding UsuarioRedSocial}" Tag="Exclude"
                                        x:Name="UsuarioRedSocial"/>
                        </StackPanel>

                        <StackPanel MinWidth="250" Margin="0 0 25 0">
                            <Label Content="Observaciones:" 
                                   Target="{Binding ElementName=ObservacionesRedSocial}"/>
                            <ui:TextBox Text="{Binding ObservacionesRedSocial}"
                                        x:Name="ObservacionesRedSocial"/>
                        </StackPanel>

                        <ui:Button Icon="{ui:SymbolIcon Add24}"
                                   Appearance="Primary"
                                   Margin="0 15 0 0"
                                   VerticalAlignment="Stretch"
                                   Command="{Binding AddRedSocialCommand}" />
                    </WrapPanel>

                    <ui:CardExpander Icon="{ui:SymbolIcon Mention24}" Margin="0 0 0 15"
                                     IsExpanded="{Binding TieneRedesSociales}">
                        <ui:CardExpander.Header>
                            <ui:TextBlock Text="Redes sociales" FontTypography="Subtitle" />
                        </ui:CardExpander.Header>
                        <ui:ListView
                            HorizontalAlignment="Stretch"
                            MaxHeight="250"
                            ItemsSource="{Binding Source={StaticResource RedesSociales}}"
                            SelectionMode="Single">
                            <ui:ListView.ItemTemplate>
                                <DataTemplate>
                                    <Grid>
                                        <ui:CardControl
                                            Margin="5 5 60 5"
                                            Padding="10"
                                            Icon="{ui:SymbolIcon Mention24}"
                                            HorizontalAlignment="Stretch">
                                            <ui:CardControl.Header>
                                                <StackPanel>
                                                    <ui:TextBlock
                                                        Appearance="Secondary"
                                                        Text="{Binding TipoRedSocial.Nombre}"
                                                        TextWrapping="WrapWithOverflow" />

                                                    <ui:TextBlock
                                                        FontTypography="BodyStrong"
                                                        Text="{Binding Nombre}"
                                                        TextWrapping="WrapWithOverflow" />
                                                </StackPanel>
                                            </ui:CardControl.Header>
                                            <StackPanel>
                                                <ui:TextBlock
                                                    Appearance="Secondary"
                                                    Text="{Binding Observaciones}"
                                                    TextWrapping="WrapWithOverflow" />
                                            </StackPanel>
                                        </ui:CardControl>

                                        <ui:Button VerticalAlignment="Stretch"
                                                   Appearance="Danger"
                                                   HorizontalAlignment="Right"
                                                   Icon="{ui:SymbolIcon Delete24}"
                                                   MinWidth="50"
                                                   Margin="5"
                                                   Command="{Binding ElementName=Page, Path=DataContext.EliminarContactoCommand}"
                                                   CommandParameter="{Binding}" />
                                    </Grid>
                                </DataTemplate>
                            </ui:ListView.ItemTemplate>
                        </ui:ListView>
                    </ui:CardExpander>
                </StackPanel>
            </Border>

            <!-- Datos sociodemográficos -->
            <ui:TextBlock Text="Datos sociodemográficos" FontTypography="Title" Margin="10" />
            <Border Style="{StaticResource CebvBorder}">
                <StackPanel>
                    <WrapPanel Margin="0 0 0 15">
                        <StackPanel MinWidth="250" Margin="0 0 25 0">
                            <Label Content="¿Habla español?"
                                   Target="{Binding ElementName=HablaEspanhol}"/>
                            <ComboBox DisplayMemberPath="Key"
                                      SelectedValuePath="Value"
                                      SelectedValue="{Binding Desaparecido.Persona.HablaEspanhol}"
                                      ItemsSource="{Binding OpcionesCebv}" 
                                      x:Name="HablaEspanhol"/>
                        </StackPanel>

                        <StackPanel MinWidth="250" Margin="0 0 25 0">
                            <Label Content="¿Sabe leer y escribir?"
                                   Target="{Binding ElementName=SabeLeerEscribir}"/>
                            <ComboBox DisplayMemberPath="Key"
                                      SelectedValuePath="Value"
                                      SelectedValue="{Binding Desaparecido.Persona.Estudios.SabeLeerEscribir}"
                                      ItemsSource="{Binding OpcionesCebv}"
                                      x:Name="SabeLeerEscribir"/>
                        </StackPanel>

                        <StackPanel MinWidth="250">
                            <Label Content="Religión:"
                                   Target="{Binding ElementName=Religion}"/>
                            <ComboBox DisplayMemberPath="Nombre"
                                      SelectedItem="{Binding Desaparecido.Persona.Religion}"
                                      ItemsSource="{Binding Persona.Religiones}"
                                      x:Name="Religion"/>
                        </StackPanel>
                    </WrapPanel>

                    <WrapPanel Margin="0 0 0 15">
                        <StackPanel MinWidth="250" Margin="0 0 25 0">
                            <Label Content="Nivel de escolaridad:"
                                   Target="{Binding ElementName=Escolaridad}"/>
                            <ComboBox DisplayMemberPath="Nombre"
                                      SelectedItem="{Binding Desaparecido.Persona.Estudios.Escolaridad}"
                                      ItemsSource="{Binding Persona.Escolaridades}"
                                      x:Name="Escolaridad"/>
                        </StackPanel>

                        <StackPanel MinWidth="250" Margin="0 0 25 0">
                            <Label Content="Avance de escolaridad: "
                                   Target="{Binding ElementName=EstatusEscolaridad}"/>
                            <ComboBox SelectedValue="{Binding Desaparecido.Persona.Estudios.EstatusEscolaridad}"
                                      ItemsSource="{Binding Persona.EstatusEscolaridades}"
                                      x:Name="EstatusEscolaridad"/>
                        </StackPanel>
                    </WrapPanel>

                    <WrapPanel Margin="0 0 0 15">
                        <StackPanel MinWidth="525" Margin="0 0 25 0">
                            <Label Content="Descripción de la ocupación principal:"
                                   Target="{Binding ElementName=OcupacionPrincipalDescripciones}"/>
                            <ui:TextBox Text="{Binding OcupacionPrincipal.Observaciones}"
                                        TextWrapping="Wrap"
                                        AcceptsReturn="True"
                                        MinHeight="100" 
                                        x:Name="OcupacionPrincipalDescripciones"/>
                        </StackPanel>

                        <StackPanel>
                            <StackPanel Margin="0 0 25 15" MinWidth="250">
                                <Label Content="Código general principal:"
                                       Target="{Binding ElementName=TipoOcupacionPrincipal}"/>
                                <ComboBox DisplayMemberPath="Nombre"
                                          SelectedItem="{Binding TipoOcupacionPrincipal}"
                                          ItemsSource="{Binding TiposOcupaciones}" 
                                          x:Name="TipoOcupacionPrincipal"/>
                            </StackPanel>

                            <StackPanel Margin="0 0 25 0" MinWidth="250">
                                <Label Content="Código específico principal:"
                                       Target="{Binding ElementName=OcupacionEspPrincipal}"/>
                                <ComboBox DisplayMemberPath="Nombre"
                                          SelectedItem="{Binding OcupacionPrincipal.Ocupacion}"
                                          ItemsSource="{Binding OcupacionesPrincipales}"
                                          x:Name="OcupacionEspPrincipal"/>
                            </StackPanel>
                        </StackPanel>
                    </WrapPanel>

                    <WrapPanel Margin="0 0 0 15">
                        <StackPanel MinWidth="525" Margin="0 0 25 0">
                            <Label Content="Descripción de la ocupación secundaria"
                                   Target="{Binding ElementName=OcupacionSecundariaDescripcion}"/>
                            <ui:TextBox Text="{Binding OcupacionSecundaria.Observaciones}"
                                        TextWrapping="Wrap"
                                        AcceptsReturn="True"
                                        MinHeight="100" 
                                        x:Name="OcupacionSecundariaDescripcion"/>
                        </StackPanel>

                        <StackPanel>
                            <StackPanel Margin="0 0 25 15" MinWidth="250">
                                <Label Content="Código general secundaria:"
                                       Target="{Binding ElementName=TipoOcupacionSecundaria}"/>
                                <ComboBox DisplayMemberPath="Nombre"
                                          SelectedItem="{Binding TipoOcupacionSecundaria}"
                                          ItemsSource="{Binding TiposOcupaciones}" 
                                          x:Name="TipoOcupacionSecundaria"/>
                            </StackPanel>

                            <StackPanel Margin="0 0 25 0" MinWidth="250">
                                <Label Content="Código específico secundaria:" 
                                       Target="{Binding ElementName=OcupacionEspSecundaria}"/>
                                <ComboBox DisplayMemberPath="Nombre"
                                          SelectedItem="{Binding OcupacionSecundaria.Ocupacion}"
                                          ItemsSource="{Binding OcupacionesSecundarias}" 
                                          x:Name="OcupacionEspSecundaria"/>
                            </StackPanel>
                        </StackPanel>
                    </WrapPanel>

                    <StackPanel Margin="0 0 0 15">
                        <Label Content="Otras especificaciones de la ocupación:"
                               Target="{Binding ElementName=OtrasEspecificacionesOcupacion}"/>
                        <ui:TextBox
                            Text="{Binding Desaparecido.Persona.ContextoEconomico.OtrasEspecificacionesOcupacion}"
                            TextWrapping="Wrap"
                            AcceptsReturn="True"
                            MinHeight="100" 
                            x:Name="OtrasEspecificacionesOcupacion"/>
                    </StackPanel>

                    <WrapPanel>
                        <StackPanel Margin="0 0 25 0" MinWidth="250">
                            <Label Content="Estado conyugal:"
                                   Target="{Binding ElementName=EstadoConyugal}"/>
                            <ComboBox DisplayMemberPath="Nombre"
                                      SelectedItem="{Binding Desaparecido.Persona.ContextoFamiliar.EstadoConyugal}"
                                      ItemsSource="{Binding Persona.EstadosConyugales}"
                                      x:Name="EstadoConyugal"/>
                        </StackPanel>

                        <StackPanel MinWidth="400">
                            <Label Content="Nombre de la pareja o cónyuge"
                                   Target="{Binding ElementName=NombreParejaConyugue}"/>
                            <ui:TextBox Text="{Binding Desaparecido.Persona.ContextoFamiliar.NombreParejaConyugue}"
                                        Tag="Letter"
                                        x:Name="NombreParejaConyugue"/>
                        </StackPanel>
                    </WrapPanel>
                </StackPanel>
            </Border>
        </StackPanel>

        <!-- Footer -->
        <ui:Button Grid.Row="2"
                   Content="{StaticResource GuardarContinuar}"
                   Icon="{ui:SymbolIcon Save24}"
                   Margin="10"
                   HorizontalAlignment="Stretch"
                   Appearance="Primary"
                   Command="{Binding GuardarYContinuarCommand}"
                   CommandParameter="{x:Type presentation1:MediaFiliacionPage}" />
    </Grid>
</Page>